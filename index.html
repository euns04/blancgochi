<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ë¸”ë‘ê³ ì¹˜</title>

<style>
  *{ box-sizing:border-box; }

  body{
    font-family: system-ui;
    max-width: 420px;
    margin: 24px auto;
    padding: 0 16px;
    min-height: 100vh;
    background:
      radial-gradient(circle at 80% 10%, rgba(255,255,255,0.5), transparent 50%),
      linear-gradient(
        to bottom,
        #cfefff 0%,
        #e9fbff 45%,
        #9be29f 46%,
        #63d36d 100%
      );
  }

  h1 { text-align:center; margin: 8px 0 14px; }

  .card{
    width: 420px;
    aspect-ratio: 3 / 4;
    margin: 0 auto;

    border-radius: 60% 60% 46% 46% / 70% 70% 40% 40%;
    padding: 62px 18px 28px;
    position: relative;
    overflow: hidden;

    background: linear-gradient(180deg,
      #e9f3ff 0%,
      #cfe4ff 55%,
      #b9d7ff 100%
    );

    border: 6px solid rgba(255,255,255,0.92);

    box-shadow:
      0 20px 40px rgba(0,0,0,0.16),
      0 6px 14px rgba(0,0,0,0.10),
      inset 0 3px 10px rgba(255,255,255,0.85),
      inset 0 -18px 24px rgba(0,0,0,0.06);
  }

  .card::before{
    content:"";
    position:absolute;
    inset:0;
    pointer-events:none;
    opacity: .55;
    background:
      radial-gradient(circle at 20% 18%, rgba(255,255,255,0.95) 0 3px, transparent 4px),
      radial-gradient(circle at 75% 22%, rgba(255,255,255,0.85) 0 2px, transparent 4px),
      radial-gradient(circle at 82% 52%, rgba(255,255,255,0.75) 0 3px, transparent 6px),
      radial-gradient(circle at 30% 78%, rgba(255,255,255,0.7) 0 2px, transparent 4px);
  }

  /* ====== âœ… â€œë‹¤ë§ˆê³ ì¹˜ ì•¡ì •â€ ëŠë‚Œ: bezel + screen ====== */
  .pet{
    position: relative;
    width: 70%;
    margin-top: 30px;
    margin: 0 auto;
    transform: translateY(10px);
  }

  /* ë°”ê¹¥ ë² ì ¤(ì•¡ì • í…Œë‘ë¦¬) */
  .bezel{
    position: relative;
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: 34px;
    padding: 14px;
    background: linear-gradient(180deg, rgba(255,255,255,0.85), rgba(235,243,255,0.85));
    border: 4px solid rgba(255,255,255,0.95);
    box-shadow:
      inset 0 10px 18px rgba(0,0,0,0.10),
      0 14px 22px rgba(0,0,0,0.12);
  }

  /* ì•ˆìª½ ì•¡ì •(ì‹¤ì œ ì´ë¯¸ì§€ê°€ ë“¤ì–´ê°€ëŠ” ê³³) */
  .screen{
    position: relative;
    width: 100%;
    height: 100%;
    border-radius: 26px;
    overflow: hidden;
    background: linear-gradient(180deg, #ffffff 0%, #f2f6ff 100%);
    border: 3px solid rgba(180,200,240,0.35);
    box-shadow:
      inset 0 10px 20px rgba(0,0,0,0.10),
      inset 0 -14px 18px rgba(0,0,0,0.06);
  }

  /* í™”ë©´ ìœ ë¦¬ ë°˜ì‚¬ ëŠë‚Œ */
  .screen::after{
    content:"";
    position:absolute;
    inset:-30% -20% auto -20%;
    height: 55%;
    transform: rotate(-10deg);
    background: linear-gradient(180deg, rgba(255,255,255,0.55), rgba(255,255,255,0));
    pointer-events:none;
  }

  .screen img{
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
    transition: opacity 200ms ease;
    filter: saturate(1.05) contrast(1.03);
  }

  .fade-out{ opacity:0; }

  /* ë§í’ì„  */
  .speech{
    position:absolute;
    bottom: 14px;
    left: 50%;
    transform: translateX(-50%) translateY(6px);
    background:white;
    padding:6px 10px;
    border-radius:12px;
    font-size:14px;
    box-shadow:0 2px 8px rgba(0,0,0,0.15);
    opacity:0;
    transition:all 200ms ease;
    pointer-events:none;
    z-index: 3;
  }
  .speech.show{
    opacity:1;
    transform: translateX(-50%) translateY(0);
  }

  /* ìƒíƒœ ë°” */
.row{
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
  transform: translateY(8px);

  width: 92%;
  margin: 18px auto 0;
  padding: 12px 12px;

  background: rgba(255,255,255,0.78);
  border: 1px solid rgba(255,255,255,0.92);
  border-radius: 999px;
  box-shadow:
    0 10px 18px rgba(0,0,0,0.08),
    inset 0 1px 0 rgba(255,255,255,0.95);

  text-align:center;
}

.stat{
  display:flex;
  flex-direction: column;
  align-items:center;
  gap: 4px;
  line-height: 1.1;
}

.stat .label{
  font-size: 12px;
  opacity: 0.9;
}

.stat .value{
  display:flex;              /* âœ… ê°’+(/100) ê°™ì€ ì¤„ */
  align-items: baseline;
  gap: 4px;
}

.stat b{ font-size: 16px; }
.stat small{ font-size: 12px; opacity: 0.85; }




  /* ====== âœ… ë²„íŠ¼ì„ ê³¡ì„ ìœ¼ë¡œ ë°°ì¹˜ ====== */
.actions{
  position: relative;
  width: 88%;              /* âœ… ì‚´ì§ ì¤„ì—¬ì„œ ê°€ìš´ë° ì—¬ë°± í™•ë³´ */
  height: 150px;
  margin: 14px auto 0;     /* âœ… ìƒíƒœë°” ì•„ë˜ì—ì„œ ë°”ë¡œ ì‹œì‘ + ì¤‘ì•™ì •ë ¬ */
  padding-bottom: 0;
}

.arc-track{
  position:absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: 28px;            /* âœ… ì•„ë˜ë¡œ ì ë¦¼ ë°©ì§€: ìœ„ë¡œ ì˜¬ë¦¼ */
  width: 100%;             /* âœ… actions í­ì— ë”± ë§ê²Œ */
  height: 110px;

  border-radius: 0 0 999px 999px;
  border: 4px solid rgba(255,255,255,0.95);
  background: linear-gradient(180deg, rgba(255,255,255,0.35), rgba(255,255,255,0));
  box-shadow: inset 0 8px 18px rgba(0,0,0,0.05);
  pointer-events:none;
}

.actions button{
  position:absolute;
  bottom: 56px;  /* âœ… ë²„íŠ¼ ì „ì²´ë¥¼ ìœ„ë¡œ ì˜¬ë¦¼ (ê¸°ì¡´ 45~50ì´ë©´ ë” ë‚´ë ¤ê°€ ë³´ì„) */

  width: 64px;
  height: 64px;
  border-radius: 50%;
  font-size: 13px;

  /* âœ… ì¤‘ì‹¬ ê¸°ì¤€ ë°°ì¹˜(ì–‘ë ì˜ë¦¼ ë°©ì§€) */
  transform: translateX(-50%);

  border: 2px solid rgba(255,255,255,0.92);
  background: linear-gradient(180deg, #ffffff 0%, #eaf1ff 100%);
  box-shadow:
    0 10px 18px rgba(0,0,0,0.15),
    inset 0 2px 0 rgba(255,255,255,0.95);

  display:flex;
  flex-direction: column;
  align-items:center;
  justify-content:center;
}

/* âœ… ê³¡ì„ (âˆª) : ê°€ìš´ë° 2ê°œë§Œ ì‚´ì§ ì•„ë˜ë¡œ */
#feedBtn  { left: 18%; transform: translateX(-50%) translateY(-6px); }
#playBtn  { left: 39%; transform: translateX(-50%) translateY(8px); }
#bathBtn  { left: 61%; transform: translateX(-50%) translateY(8px); }
#sleepBtn { left: 82%; transform: translateX(-50%) translateY(-6px); }


  .actions button:active{
    transform: translateY(2px);
    box-shadow:
      0 8px 14px rgba(0,0,0,0.12),
      inset 0 2px 0 rgba(255,255,255,0.95),
      inset 0 -4px 8px rgba(0,0,0,0.05);
  }

  .actions button:disabled{
    opacity: 0.55;
    filter: grayscale(0.2);
  }



  /* ëª¨ë°”ì¼ ëŒ€ì‘ */
  @media (max-width: 460px){
    .card{ width: 100%; }
  }
</style>
</head>

<body>
<h1>&hearts;ë¸”ë‘ê³ ì¹˜&hearts;</h1>

<div class="card">

  <div class="pet">
    <div class="bezel">
      <div class="screen">
        <img id="petImg" />
        <div id="speech" class="speech">ëƒ ëƒ </div>
      </div>
    </div>
  </div>

<div class="row">
  <div class="stat">
    <span class="label">ë°°ê³ í””</span>
    <span class="value"><b id="hungerText">46</b><small>/100</small></span>
  </div>
  <div class="stat">
    <span class="label">í–‰ë³µ</span>
    <span class="value"><b id="happyText">10</b><small>/100</small></span>
  </div>
  <div class="stat">
    <span class="label">ì²­ê²°</span>
    <span class="value"><b id="cleanText">58</b><small>/100</small></span>
  </div>
  <div class="stat">
    <span class="label">ì—ë„ˆì§€</span>
    <span class="value"><b id="energyText">42</b><small>/100</small></span>
  </div>
</div>

  <div class="actions">
    <div class="arc-track"></div>
    <button id="feedBtn">ğŸ–<br>ë°¥</button>
    <button id="playBtn">ğŸ¾<br>ë†€ê¸°</button>
    <button id="bathBtn">ğŸ›<br>ëª©ìš•</button>
    <button id="sleepBtn">ğŸ˜´<br>ì¬ìš°ê¸°</button>
  </div>

</div>

<script>
  let hunger = Number(localStorage.getItem("hunger")) || 50;
  let happiness = Number(localStorage.getItem("happiness")) || 50;
  let cleanliness = Number(localStorage.getItem("cleanliness")) || 60;
  let energy = Number(localStorage.getItem("energy")) || 60;

  const hungerText = document.getElementById("hungerText");
  const happyText = document.getElementById("happyText");
  const cleanText = document.getElementById("cleanText");
  const energyText = document.getElementById("energyText");

  const petImg = document.getElementById("petImg");

  const feedBtn = document.getElementById("feedBtn");
  const playBtn = document.getElementById("playBtn");
  const bathBtn = document.getElementById("bathBtn");
  const sleepBtn = document.getElementById("sleepBtn");

  const speech = document.getElementById("speech");

  function clamp(v, min, max) { return Math.max(min, Math.min(max, v)); }

  function save() {
    localStorage.setItem("hunger", hunger);
    localStorage.setItem("happiness", happiness);
    localStorage.setItem("cleanliness", cleanliness);
    localStorage.setItem("energy", energy);
  }

  const DEFAULTS = ["dog_default2.jpg", "dog_default3.jpg"];
  let currentDefault = DEFAULTS[Math.floor(Math.random() * DEFAULTS.length)];
  const HUNGRY_IMG = "dog_hungry.jpg";

  let actionTimer = null;

function applyIdleImage() {
  if (hunger <= 15) {
    setActionImage(HUNGRY_IMG);
  } else {
    setActionImage(currentDefault);
  }
}

  function setActionImage(src){
    petImg.classList.add("fade-out");
    setTimeout(()=>{
      petImg.src = src;
      petImg.classList.remove("fade-out");
    }, 200);
  }

  function showSpeech(text, duration=800){
    speech.textContent = text;
    speech.classList.add("show");
    setTimeout(()=> speech.classList.remove("show"), duration);
  }

  function flashImage(src, duration = 800) {
    if (actionTimer) clearTimeout(actionTimer);
    setActionImage(src);
    actionTimer = setTimeout(() => {
      applyIdleImage();
      actionTimer = null;
    }, duration);
  }

  function render() {
    hungerText.textContent = hunger;
    happyText.textContent = happiness;
    cleanText.textContent = cleanliness;
    energyText.textContent = energy;

    if (energy < 10) {
      playBtn.disabled = true;
      playBtn.innerHTML = "ğŸ¾<br>ì—ë„ˆì§€â†“";
    } else {
      playBtn.disabled = false;
      playBtn.innerHTML = "ğŸ¾<br>ë†€ê¸°";
    }

    if (energy < 10) {
      speech.textContent = "ì¡¸ë ¤â€¦ ê±´ë“¤ë””ë§ˆ ğŸ˜´";
      speech.classList.add("show");
    } else {
      if (!actionTimer) speech.classList.remove("show");
    }

    if (!actionTimer) applyIdleImage();
    save();
  }

  petImg.src = currentDefault;
  applyIdleImage();

  feedBtn.addEventListener("click", () => {
    const EATS = ["dog_eat2.jpg"];
    const randomEat = EATS[Math.floor(Math.random() * EATS.length)];
    flashImage(randomEat, 1000);
    showSpeech("ëƒ ëƒ !!ğŸ˜‹", 1000);
    hunger = clamp(hunger + 15, 0, 100);
    cleanliness = clamp(cleanliness - 2, 0, 100);
    render();
  });

  playBtn.addEventListener("click", () => {
    if (energy < 10) return;
    flashImage("dog_play1.jpg", 1000);
    happiness = clamp(happiness + 15, 0, 100);
    energy = clamp(energy - 12, 0, 100);
    hunger = clamp(hunger - 6, 0, 100);
    cleanliness = clamp(cleanliness - 4, 0, 100);
    render();
  });

  bathBtn.addEventListener("click", () => {
    flashImage("dog_bath.jpg", 1000);
    cleanliness = clamp(cleanliness + 25, 0, 100);
    energy = clamp(energy - 4, 0, 100);
    happiness = clamp(happiness - 1, 0, 100);
    render();
  });

  sleepBtn.addEventListener("click", () => {
    const SLEEPS = ["dog_sleep1.jpg", "dog_sleep2.jpg"];
    const randomSleep = SLEEPS[Math.floor(Math.random() * SLEEPS.length)];
    flashImage(randomSleep, 1000);
    energy = clamp(energy + 30, 0, 100);
    happiness = clamp(happiness + 5, 0, 100);
    hunger = clamp(hunger - 5, 0, 100);
    render();
  });

  setInterval(() => {
    hunger = clamp(hunger - 4, 0, 100);
    energy = clamp(energy - 2, 0, 100);
    cleanliness = clamp(cleanliness - 2, 0, 100);
    happiness = clamp(happiness - 2, 0, 100);
    render();
  }, 10000);

  render();
</script>
</body>
</html>